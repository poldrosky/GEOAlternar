<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>


        <link type="text/css" rel="stylesheet" href="./resources/css/style.css" />
        <h:outputStylesheet library="css" name="style.css" />
        <script src="http://maps.google.com/maps/api/js?v=3&amp;sensor=false"></script>
        <script type="text/javascript" src="./resources/js/OpenLayers-2.12/OpenLayers.js"></script>
        <script type="text/javascript" src="./resources/js/googlemapsRiver.js"></script>
        <script src="http://code.highcharts.com/highcharts.js"></script>
        <script src="http://code.highcharts.com/modules/exporting.js"></script>


    </h:head>
    <h:body>
        <h:form id="frmlatlon"  style="font-size: 11px;">
            <p:layout>
                <p:layoutUnit position="west" size="20%"  header="Mapas Caudal"  collapsible="true" id="left1">
                    <h:panelGrid >
                        <p:outputLabel value="EN CONSTRUCCIÓN" style="font-size: 35px"/>
                    </h:panelGrid>
                </p:layoutUnit>
                <p:layoutUnit position="center" id="panelmap" header="Mapa de Biomasa " >
                    <div id="map" ></div>
                </p:layoutUnit>
                <p:layoutUnit position="east" size="39%"  header="Información de Coordenada "  id="rigth" >
                    <p:outputLabel value="EN CONSTRUCCIÓN" style="font-size: 60px"/><br></br>
                    <h:outputText value="Latitud:" />
                    <h:inputText id="latitudeCap" value="#{mBRMap.latitude}" size="15" immediate="true" >
                        <p:ajax event="change"  update="frmlatlon:panel"
                                immediate="true"/>
                    </h:inputText>
                    <h:outputText value="Longitud:" />
                    <h:inputText id="longitudeCap" value="#{mBRMap.longitude}" size="15" immediate="true" >
                        <p:ajax event="change"  update="frmlatlon:panel" immediate="true" />
                    </h:inputText>
                    <p:commandButton value="prueba" actionListener="#{mBRMap.consultarBiomasaCoordenada()}"
                                     ajax="true" update="frmlatlon:panel"
                                     id="btAjax" style="visibility: hidden"/>
                    <p:ajaxStatus style="display:block;margin-bottom:2em;height:24px;">
                    <f:facet name="complete">
                    </f:facet>
                    </p:ajaxStatus>
                    <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
                    <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                        <p:graphicImage value="./img/process.gif" /><br></br>
                        <h:outputText value="GRACIAS POR ESPERAR" />
                    </p:dialog>
                    <p:panelGrid id="panel" columns="1" style="font-size: 10px; width: 100%; text-align: center;" >
                        <h:panelGroup>
                            <p:graphicImage value="./img/mapa.png" style="height: 20px;width: 20px;" ><a href="#{mBRMap.url}">DESCARAGAR MAPA</a></p:graphicImage>
                        </h:panelGroup>
                        <h:outputText value=" #{mBRMap.valorbd}" style="font-size: 15px;"/>
                        <hr></hr>
                    </p:panelGrid>
                </p:layoutUnit>
            </p:layout>
        </h:form>
    </h:body>
</html>

